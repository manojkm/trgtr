// ================================================================================================
// File Name: dropdown.scss
// Description: Bootstrap dropdowns to active on hover/click and provide a nice user experience.
// ----------------------------------------------------------------------------------------------
// Item Name: xxx - Responsive Admin Theme
// Version: 1.2
// Author: MANOJ
// Author URL: http://www.themeforest.net/user/xxx
// ================================================================================================

//----------------------------------*\
// BOOTSTRAP DROPDOWN MENU - EXTENDED
//----------------------------------*/
// TODO Adapted from https://codepen.io/pawelwojtas/pen/rGPpbd

.dropdown-menu.extended,
.dropdown-menu.extended .dropdown-menu {
  width: 200px;
  max-width: 320px;
  min-width: 160px;
  padding: $dropdown-padding-y $dropdown-padding-x;
  margin-top: $dropdown-margin-top; /* Positioning first level dropdown menu */
  background-color: $dropdown-bg;


  /* Dropdown header */
  & .dropdown-header {
    @include font-size($dropdown-header-font-size);
    padding: $dropdown-item-padding-y $dropdown-item-padding-x;
    white-space: nowrap;
  }

  /* Dropdown menu links */
  & .dropdown-item {
    @include font-size($dropdown-font-size);
    //@include add-border(2px, transparent, left);
    @include transition;
    clear: both;
    position: relative;
    padding: $dropdown-item-padding-y $dropdown-item-padding-x;
    color: $dropdown-link-color;
    /* Flexbox */
    display: flex;
    align-items: center;

    i {
      @include font-size($dropdown-font-size);
      width: $dropdown-icon-width;
      display: inline-block;
      margin: 0 $dropdown-item-padding-x 0 0;
      color: $dropdown-link-color;
      text-align: center;
    }

    // TODO Adapted from https://github.com/sagaio/user-dropdown-menu/blob/master/trunk/css/dropdown.css

    /* Showing left border styling on hover for better highlighting */
    /* &::before {
       @include transition;
       @include background-color('primary', 'base');
       content: '';
       position: absolute;
       bottom: 0;
       left: 0;
       top: 0;
       width: 2px;
       opacity: 0;
     }

     &:hover::before
     {
       opacity: 1;
     }*/

    /* Selects the hover, focus, active state links for better highlighting */
    &:hover,
    &:focus {
      color: $dropdown-link-hover-color;
      background: $dropdown-link-hover-bg;
      //@include border-left-color('primary', 'base');
    }

    &.active,
    &.active:focus,
    &.active:hover,
    &:active {
      //@include border-left-color('primary', 'base');
      color: $dropdown-link-active-color;
      background-color: $dropdown-link-active-bg;
      text-decoration: none;

    }

    &.disabled,
    &.disabled:focus,
    &.disabled:hover,
    &:disabled {
      //@include add-border(2px, transparent, left);
      color: $dropdown-link-disabled-color;
      background-color: transparent;
      cursor: not-allowed;
      background-image: none;
      filter: "progid:DXImageTransform.Microsoft.gradient(enabled = false)";
    }

  }

  /* Dropdown top arrow */
  &:before {
    content: "";
    border-bottom: 6px solid #fff;
    border-right: 6px solid transparent;
    border-left: 6px solid transparent;
    position: absolute;
    top: -6px;
    left: 16px;
    z-index: 10;
  }

  &:after {
    content: "";
    border-bottom: 8px solid #ccc;
    border-right: 8px solid transparent;
    border-left: 8px solid transparent;
    position: absolute;
    top: -8px;
    left: 14px;
    z-index: 9;
  }

  & .dropdown-divider {
    border-top: 1px solid $dropdown-divider-color;
  }

  /* Positioning submenu layout. Add extra class to `.dropdown-menu` to flip the alignment of the dropdown. */

  &.dropdown-menu-right {
    &:before {
      right: 16px;
      left: inherit;
    }

    &:after {
      left: inherit;
      right: 14px;
    }

    /* Second, Third and more levels */
    & .dropdown-menu {
      top: 0;
      left: -100%;
      margin-left: -1px;
      //margin-right: .1rem;
    }

  }

}

//----------------------------------*\
// DROPDOWN SUBMENU
//----------------------------------*/
// The styles below are applicable for both extended and default bootstrap dropdown
// TODO Adapted from https://stackoverflow.com/questions/44467377/bootstrap-4-multilevel-dropdown-inside-navigation/45755948#45755948

.dropdown-submenu {
  position: relative;

  /* Arrow icon */
  > a:after {
    transform: rotate(-90deg);
    position: absolute;
    right: 6px;
    top: 1.2em;
  }

  /* Second, Third and more levels */
  & .dropdown-menu {
    top: 0;
    left: 100%;
    margin-left: 1px;

    &:before,
    &:after {
      display: none;
    }
  }
}

//----------------------------------*\
// BOOTSTRAP DROPDOWN MENU - EXTENDED - THEMED
//----------------------------------*/
.dropdown-menu.extended.themed,
.dropdown-menu.extended.themed .dropdown-menu {
  @include background-color('header', 'base');
  border: 0;

  /* Dropdown header */
  .dropdown-header {
    @include color('header', 'link-color');
  }

  /* Dropdown menu links */
  .dropdown-item {

    &,
    i {
      @include color('header', 'link-color');
    }

    /* Change the hover, focus, active state links for better highlighting */
    &:hover,
    &:focus {
      @include color('header', 'hover-color');
      @include background-color('header', 'dark');
    }

    &.active,
    &.active:focus,
    &.active:hover,
    &:active {
      @include color('header', 'active-color');
      @include background-color('header', 'dark');

    }

    &.disabled,
    &.disabled:focus,
    &.disabled:hover,
    &:disabled {
      background-color: transparent;
      opacity: 0.6;
    }

  }

  & .dropdown-divider {
    @include border-top-color('header', 'light');
    border-top: 1px solid;
  }

  &:before {
    @include border-bottom-color('header', 'base');
  }

  &:after {
    @include border-bottom-color('header', 'light');
  }

}

/* Positioning first level dropdown menu */
//.dropdown-menu.extended.themed {
//  margin-top: $dropdown-extended-themed-margin-top;
//}

/* Remove the arrow in dropdown to replace with Icon */
.dropdown-toggle.no-arr {
  &:after {
    //display: none;
    content: none;
  }
}